# 메모리 관리

---

메모리는 CPU가 실행할 프로그램 코드와 데이터를 저장하는 물리 장치.
- CPU 레지스터, 캐시 메모리, 메인 메모리, 보조 기억 장치 등을 읽고 쓰는 속도와 용량에 따라 메모리 계층 구조를 이룬다.

## 메인 메모리 (주기억장치,RAM)
- CPU가 직접 접근하는 기억 장치이다.
- 현재 실행 중인 모든 프로세스의 코드와 데이터, 파일 블록 등이 저장된다.
- 프로세스가 정상적으로 실행되려면 프로그램이 메모리에 load 되어야 한다.
- 주소가 할당된 일련의 바이트들로 구성되어 있다.
- CPU는 레지스터가 가리키는 주소로 메모리에 접근하여 다음에 수행할 명령어를 가져온다.
  - 필요한 데이터가 없으면 `MMU`를 통해 해당 데이터를 가져온다.

### MMU (Memory Management Unit, 메모리 관리 장치)
- 논리 주소를 물리 주소로 변환한다.
- 프로세스가 CPU에서 수행되면서 생성하는 모든 주소에 대해 base register를 더해주어 물리 주소로 변환한다.
- 메모리 보호나 캐시 관리 등 CPU가 메모리에 접근하는 것을 총 관리하는 하드웨어이다.
  - base register와 limit register를 이용하여 메모리를 보호한다.
  - base register : 접근할 수 있는 물리적 주소의 최솟값
  - limit register : 논리적 주소의 범위

### 메모리 주소
- 메모리는 오직 주소를 이용해서만 접근된다.
  - 논리 주소 : 프로세스마다 독립적으로 가지는 주소 공간
    - 각 프로세스마다 0번지부터 시작한다.
    - 프로세스 내에서 사용되는 코드와 데이터에 대한 주소이다.
  - 물리 주소 : 프로세스가 할당되는 하드웨어 메모리의 주소이다.
- 논리 주소가 물리 주소로 바뀌어 물리 메모리가 엑세스 된다.